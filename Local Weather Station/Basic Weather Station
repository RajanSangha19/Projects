import requests


url = "https://api.openweathermap.org/data/3.0/onecall?lat= - - - &lon= - - - &exclude=minutely,alerts&units=metric&appid= - - - - - API key - - - - -"

#Longitude and Latitude must be entered as well as an API key from openweather

response = requests.get(url)

temp = [0] * 10
rain = [0] * 10
wind = [0] * 10

if response.status_code == 200:
    data = response.json()
    i = 0 
    # Next 10-hour temperatures
    if "current" in data:
        print("Weather description for today")
        description = data["current"]["weather"][0]["description"] 
        print(description.capitalize())
    if "hourly" in data:
        print("Temperatures for the next 10 hours:")
        for hour in data["hourly"][:10]:
            temp[i] = hour["feels_like"]
            rain[i] = hour["pop"]
            wind[i] = round(hour["wind_speed"] * 2.2369362920544, 1)
            #We are converting from m/s to mph. 
            # We can make our readings all in imperial (using the mph for the wind) but this would convert our temperature to fahrenheit
            i = i+1
        for i in range(len(temp)):
            print(f"{temp[i]} C --- {rain[i]}% --- {wind[i]}mph")
    else:
        print("No hourly data available")

    #Tomorrow's min/max
    if "daily" in data and len(data["daily"]) > 1:
        tomorrow = data["daily"][1]
        min_temp = tomorrow["temp"]["min"]
        max_temp = tomorrow["temp"]["max"]
        print("Tomorrow's forecast:")
        print(f"Min: {min_temp:.1f}°C, Max: {max_temp:.1f}°C")
    else:
        print("Daily forecast data unavailable.")

else:
    print("API call failed")
